<div class="header">
  <div class="header-right">
    <h1>User Managment</h1>
    <p class="para">Manage you team members and their account permission here</p>
  </div>
  <div class="header-left">
    <!-- <a href="/add">
            <button type="button">Add New</button>
        </a> -->
    <button id="openModalBtn">Add User</button>
  </div>
</div>

<h2>All Users</h2>


<table>
  <tr>
    <th>Name</th>
    <th>Address</th>
    <th>action</th>

  </tr>
  <tr>
    <% users.forEach(user => { %>
  <tr>
    <td>
      <div class="user-info">
        <div class="dp"></div>
        <div class="details">
          <div class="name"><%= user.name %></div>
          <div class="email"><%= user.email %></div>
          <div class="contact"><%= user.contact %></div>
        </div>
      </div>
    </td>
    <td><%= user.address %></td>
    <td>
      <a href="/update/<%= user.id %>" class="icon-button edit" title="upddate">
        <i class="fas fa-pen"></i>
      </a>

      <a href="/view/<%=user.id %>" class="icon-button view">
        <i class="fas fa-eye"></i>
      </a>

      <form action="/delete/<%= user.id %>" method="POST" onsubmit="return confirm('Are you sure?');" style="display:inline;">
        <button type="submit" class="icon-button">
          <i class="fas fa-trash-alt"></i>
        </button>
      </form>
    </td>
  </tr>
  <% }) %>
  </tr>
</table>

<!-- Modal Container -->
<div id="userModal" class="modal">
  <div class="modal-content">
    <span class="close" id="closeModalBtn">&times;</span>

    <h1>Add User</h1>
    <hr>
    <br>

    <!-- Include form partial -->
    <%- include('../partial/form', { 
      formAction: '/add', 
      user: {}, 
      buttonText: 'Add User' 
    }) %>
  </div>
</div>